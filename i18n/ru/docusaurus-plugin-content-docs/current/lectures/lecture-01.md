---
sidebar_position: 1
title: "–õ–µ–∫—Ü–∏—è 1: –≠–∫–æ—Å–∏—Å—Ç–µ–º–∞ –∏ –º–æ–¥–µ–ª—å –≤–ª–∞–¥–µ–Ω–∏—è"
---

# –õ–µ–∫—Ü–∏—è 1: –ü–æ—á–µ–º—É Rust? (–ò —á—Ç–æ –Ω–µ —Ç–∞–∫ —Å C++) {#lecture-1-why-rust}

**–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 90 –º–∏–Ω—É—Ç
**–ë–ª–æ–∫:** I ‚Äî –û—Ç C++ –∫ Rust

---

–í—ã –∑–Ω–∞–µ—Ç–µ C++. –í—ã –ø–∏—Å–∞–ª–∏ —á–∏—Å–ª–µ–Ω–Ω—ã–π –∫–æ–¥, —Ä–∞–±–æ—Ç–∞–ª–∏ —Å —à–∞–±–ª–æ–Ω–∞–º–∏, –±–æ—Ä–æ–ª–∏—Å—å —Å CMake. –í—ã –ø–æ–Ω–∏–º–∞–µ—Ç–µ RAII –∏ —É–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏. –¢–∞–∫ –∑–∞—á–µ–º –≤–∞–º –µ—â—ë –æ–¥–∏–Ω —Å–∏—Å—Ç–µ–º–Ω—ã–π —è–∑—ã–∫?

–°–∫–∞–∂—É –ø—Ä—è–º–æ: Rust ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ ¬´C++, –Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ¬ª. –≠—Ç–æ –ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ –∏–Ω–æ–π –ø–æ–¥—Ö–æ–¥ –∫ —Å–∏—Å—Ç–µ–º–Ω–æ–º—É –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é ‚Äî –ø–æ–¥—Ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —É—Å—Ç—Ä–∞–Ω—è–µ—Ç —Ü–µ–ª—ã–µ –∫–ª–∞—Å—Å—ã –æ—à–∏–±–æ–∫ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –ø—Ä–∏ —ç—Ç–æ–º —Ç–∞–∫—É—é –∂–µ (–∞ –∏–Ω–æ–≥–¥–∞ –∏ –ª—É—á—à—É—é) –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

–ù–æ –ø—Ä–µ–∂–¥–µ —á–µ–º –ø–æ–≥—Ä—É–∂–∞—Ç—å—Å—è –≤ Rust, –¥–∞–≤–∞–π—Ç–µ —á–µ—Å—Ç–Ω–æ –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ C++. –ù–µ —á—Ç–æ–±—ã –µ–≥–æ –∫—Ä–∏—Ç–∏–∫–æ–≤–∞—Ç—å ‚Äî –º—ã –≤—Å–µ –∏–º –ø–æ–ª—å–∑—É–µ–º—Å—è –∏ –±—É–¥–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è ‚Äî –Ω–æ —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, _–ø–æ—á–µ–º—É_ Rust –ø–æ—è–≤–∏–ª—Å—è –∏ –∫–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –æ–Ω –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ä–µ—à–∞–µ—Ç.

---

## –ù–∞–ª–æ–≥ –Ω–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç—å C++ {#cpp-complexity-tax}

### –ë–µ–∑—É–º–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤ {#constructor-madness}

–ë—ã—Å—Ç—Ä—ã–π –≤–æ–ø—Ä–æ—Å: —Å–∫–æ–ª—å–∫–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å —É –æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ C++?

```cpp
class Matrix {
public:
    // 1. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    Matrix();

    // 2. –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    Matrix(size_t rows, size_t cols);

    // 3. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
    Matrix(const Matrix& other);

    // 4. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è
    Matrix(Matrix&& other) noexcept;

    // 5. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å–ø–∏—Å–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
    Matrix(std::initializer_list<std::initializer_list<double>> init);

    // 6. –ü—Ä–µ–æ–±—Ä–∞–∑—É—é—â–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (–Ω–µ—è–≤–Ω—ã–π!)
    Matrix(const std::vector<std::vector<double>>& data);

    // 7. –ï—â—ë –æ–¥–∏–Ω –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—â–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    Matrix(double scalar);  // –ú–∞—Ç—Ä–∏—Ü–∞ 1x1? –ò–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è?

    // –û–ø–µ—Ä–∞—Ç–æ—Ä –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º
    Matrix& operator=(const Matrix& other);

    // –û–ø–µ—Ä–∞—Ç–æ—Ä –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ–º
    Matrix& operator=(Matrix&& other) noexcept;

    // –î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä
    ~Matrix();
};
```

–≠—Ç–æ **7 –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤**, **2 –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è** –∏ **–¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä**. –ü—Ä–∞–≤–∏–ª–æ –Ω—É–ª—è, –ø—Ä–∞–≤–∏–ª–æ —Ç—Ä—ë—Ö, –ø—Ä–∞–≤–∏–ª–æ –ø—è—Ç–∏ ‚Äî –Ω–∞–º –Ω—É–∂–Ω—ã _–ø—Ä–∞–≤–∏–ª–∞_, —á—Ç–æ–±—ã –ø—Ä–æ—Å—Ç–æ –ø–æ–º–Ω–∏—Ç—å, —á—Ç–æ –ø–∏—Å–∞—Ç—å.

–ò —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ö—É–∂–µ. –ö–∞–∂–¥—ã–π –∏–∑ —ç—Ç–∏—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å:

- `explicit` –∏–ª–∏ –Ω–µ—è–≤–Ω—ã–º
- `constexpr` –∏–ª–∏ –Ω–µ—Ç
- `noexcept` –∏–ª–∏ –±—Ä–æ—Å–∞—é—â–∏–º –∏—Å–∫–ª—é—á–µ–Ω–∏—è
- –£–¥–∞–ª—ë–Ω–Ω—ã–º –∏–ª–∏ –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–¢–µ–ø–µ—Ä—å —É–º–Ω–æ–∂—å—Ç–µ —ç—Ç–æ –Ω–∞ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ. –ù–∞ —à–∞–±–ª–æ–Ω—ã. –ù–∞ SFINAE –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –ø–µ—Ä–µ–≥—Ä—É–∑–æ–∫. –í–Ω–µ–∑–∞–ø–Ω–æ –≤—ã –ø–∏—à–µ—Ç–µ 200 —Å—Ç—Ä–æ–∫ —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞ –º–∞—Ç—Ä–∏—Ü—ã.

**–ê –≤ Rust?**

```rust
struct Matrix {
    data: Vec<f64>,
    rows: usize,
    cols: usize,
}

impl Matrix {
    fn new(rows: usize, cols: usize) -> Self {
        Matrix {
            data: vec![0.0; rows * cols],
            rows,
            cols,
        }
    }
}
```

–í–æ—Ç –∏ –≤—Å—ë. –ù–∏–∫–∞–∫–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è ‚Äî —Ä–µ–∞–ª–∏–∑—É–µ—Ç–µ —Ç–∏–ø–∞–∂ `Clone`, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ. –ù–∏–∫–∞–∫–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è ‚Äî _–≤—Å—ë_ –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –ù–∏–∫–∞–∫–æ–≥–æ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ ‚Äî —Ç–∏–ø–∞–∂ `Drop` –µ—Å—Ç—å, –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –æ—Å–æ–±–∞—è –æ—á–∏—Å—Ç–∫–∞, –Ω–æ –æ–±—ã—á–Ω–æ –Ω–µ –Ω—É–∂–Ω–∞.

### –ì—Ä–µ—Ö –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ —Ç–∏–ø–∞ `auto` {#auto-return-type-sin}

C++14 –¥–∞–ª –Ω–∞–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–≤–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ —Ç–∏–ø–∞. –¢–æ–≥–¥–∞ —ç—Ç–æ –∫–∞–∑–∞–ª–æ—Å—å —Ö–æ—Ä–æ—à–µ–π –∏–¥–µ–µ–π:

```cpp
auto computeSomething(const Matrix& m) {
    if (m.rows() == 1) {
        return m.row(0);  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç... —á—Ç–æ –∏–º–µ–Ω–Ω–æ?
    }
    return m;  // –ü–æ—Å—Ç–æ–π—Ç–µ, —ç—Ç–æ –≤–æ–æ–±—â–µ —Ç–æ—Ç –∂–µ —Ç–∏–ø?
}
```

–≠—Ç–æ, –∫–æ–Ω–µ—á–Ω–æ, –Ω–µ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è. –ù–æ –ø—Ä–æ–±–ª–µ–º–∞ –≥–ª—É–±–∂–µ. –†–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ç–∞–∫–æ–π —Ä–µ–∞–ª—å–Ω—ã–π –∫–æ–¥:

```cpp
auto getElements() {
    std::vector<int> v = {1, 2, 3};
    return v | std::views::transform([](int x) { return x * 2; });
}

int main() {
    auto result = getElements();
    for (int x : result) {  // –ù–ï–û–ü–†–ï–î–ï–õ–Å–ù–ù–û–ï –ü–û–í–ï–î–ï–ù–ò–ï
        std::cout << x << "\n";
    }
}
```

–ö–∞–∫–æ–π –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø —É `getElements()`? –ß—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:

```cpp
std::ranges::transform_view<std::ranges::ref_view<std::vector<int>>, lambda>
```

–ù–æ –≤–æ—Ç –≤ —á—ë–º –ø–æ–¥–≤–æ—Ö: **—ç—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π**. –í–µ–∫—Ç–æ—Ä —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏. –ö–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏ –¥–∞–∂–µ –º–æ–∂–µ—Ç –≤—ã–¥–∞–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç... –∏–Ω–æ–≥–¥–∞. –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –Ω–∞—Å –Ω–µ –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏–ª. –°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤ –Ω–∞—Å –Ω–µ —Å–ø–∞—Å–ª–∞. –ú—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–ª–∏ –≤–∏—Å—è—á—É—é —Å—Å—ã–ª–∫—É —Å –ø–æ–º–æ—â—å—é —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö ¬´–±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö¬ª –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π C++20.

**–í Rust** —ç—Ç–æ –æ—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏:

```rust
fn get_elements() -> impl Iterator<Item = i32> {
    let v = vec![1, 2, 3];
    v.into_iter().map(|x| x * 2)  // into_iter() –∑–∞–±–∏—Ä–∞–µ—Ç –≤–ª–∞–¥–µ–Ω–∏–µ ‚Äî –Ω–∏–∫–∞–∫–∏—Ö –≤–∏—Å—è—á–∏—Ö —Å—Å—ã–ª–æ–∫!
}

// –ï—Å–ª–∏ –±—ã –≤—ã –ø–æ–ø—ã—Ç–∞–ª–∏—Å—å –≤–µ—Ä–Ω—É—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
fn broken() -> &[i32] {
    let v = vec![1, 2, 3];
    &v  // –û–®–ò–ë–ö–ê: –Ω–µ–ª—å–∑—è –≤–µ—Ä–Ω—É—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
}
```

–°–∏—Å—Ç–µ–º–∞ –≤–ª–∞–¥–µ–Ω–∏—è –¥–µ–ª–∞–µ—Ç _–Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º_ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–æ—á–Ω–æ–π –≤–µ—Ä—Å–∏–∏.

### –†–æ–º–± —Å–º–µ—Ä—Ç–∏ {#diamond-of-death}

–í—ã –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ —É—á–∏–ª–∏—Å—å –∏–∑–±–µ–≥–∞—Ç—å —Ä–æ–º–±–æ–≤–∏–¥–Ω–æ–≥–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è. –ù–æ –∑–Ω–∞–ª–∏ –ª–∏ –≤—ã, —á—Ç–æ C++ –¥–æ —Å–∏—Ö –ø–æ—Ä –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –Ω–µ —Ä–µ—à–∞–µ—Ç —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É?

```cpp
class Sensor {
public:
    virtual void calibrate() = 0;
    virtual double read() = 0;
};

class TemperatureSensor : public virtual Sensor {
public:
    void calibrate() override { /* ... */ }
    double read() override { return temperature_; }
private:
    double temperature_;
};

class PressureSensor : public virtual Sensor {
public:
    void calibrate() override { /* ... */ }
    double read() override { return pressure_; }
private:
    double pressure_;
};

// –£–∂–∞—Å–Ω—ã–π —Ä–æ–º–±
class CombinedSensor : public TemperatureSensor, public PressureSensor {
public:
    // –ö–∞–∫–æ–π calibrate()? –ö–∞–∫–æ–π read()?
    void calibrate() override { /* –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å */ }
    double read() override { /* –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å */ }
};
```

–í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ ¬´—Ä–µ—à–∞–µ—Ç¬ª —ç—Ç–æ —Ü–µ–Ω–æ–π –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã—Ö –ø–æ–¥–≤–æ–¥–Ω—ã—Ö –∫–∞–º–Ω–µ–π. –ù–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞—ë—Ç—Å—è: **C++ —Å–º–µ—à–∏–≤–∞–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**.

**Rust —Ä–∞–∑–¥–µ–ª—è–µ—Ç –∏—Ö –ø–æ–ª–Ω–æ—Å—Ç—å—é:**

```rust
trait Sensor {
    fn calibrate(&mut self);
    fn read(&self) -> f64;
}

struct TemperatureSensor { /* ... */ }
struct PressureSensor { /* ... */ }

impl Sensor for TemperatureSensor { /* ... */ }
impl Sensor for PressureSensor { /* ... */ }

// –ù—É–∂–Ω—ã –æ–±–∞? –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é, –∞ –Ω–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:
struct CombinedSensor {
    temp: TemperatureSensor,
    pressure: PressureSensor,
}

impl CombinedSensor {
    fn read_temperature(&self) -> f64 {
        self.temp.read()
    }

    fn read_pressure(&self) -> f64 {
        self.pressure.read()
    }
}
```

–ù–∏–∫–∞–∫–∏—Ö —Ä–æ–º–±–æ–≤. –ù–∏–∫–∞–∫–∏—Ö –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è. –ù–∏–∫–∞–∫–æ–π –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç–∏. –ü—Ä–æ—Å—Ç–æ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è.

### Ranges: –æ–±–µ—â–∞–Ω–∏—è –∏ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å {#ranges-promise-vs-reality}

Ranges –≤ C++20 –¥–æ–ª–∂–Ω—ã –±—ã–ª–∏ —Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–ø–æ—Å–æ–± –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞. –†–µ–∞–ª—å–Ω–æ—Å—Ç—å... —Å–ª–æ–∂–Ω–µ–µ.

```cpp
std::vector<int> numbers = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};

// –í—ã–≥–ª—è–¥–∏—Ç –Ω–µ–ø–ª–æ—Ö–æ:
auto result = numbers
    | std::views::filter([](int n) { return n % 2 == 0; })
    | std::views::transform([](int n) { return n * n; });

// –ù–æ –∫–∞–∫–æ–≤–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å? –ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –∞—Å—Å–µ–º–±–ª–µ—Ä...
```

–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ —á–∞—Å—Ç–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –≤—ã–∑–æ–≤—ã —á–µ—Ä–µ–∑ —Å—Ç–∏—Ä–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –Ω–∞–ø–æ–¥–æ–±–∏–µ `std::function`, –æ—à–∏–±–∫–∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –≤–µ—Ç–≤–ª–µ–Ω–∏–π –∏–∑-–∑–∞ –ª–µ–Ω–∏–≤—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –∏ –Ω–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–º—è—Ç–∏.

–ò –µ—â—ë –µ—Å—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª UB, –∫–æ—Ç–æ—Ä—ã–π –º—ã –≤–∏–¥–µ–ª–∏ —Ä–∞–Ω–µ–µ ‚Äî –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –Ω–µ –≤–ª–∞–¥–µ—é—Ç —Å–≤–æ–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏, –∏ C++ –Ω–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤–∞—Å, –µ—Å–ª–∏ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ —É–º—Ä—É—Ç.

–•—É–∂–µ —Ç–æ–≥–æ, —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –Ω–µ–ø–æ—Å—Ç–∏–∂–∏–º—ã:

```cpp
auto result = numbers | std::views::filter([](std::string s) { return s.empty(); });
// Error: no match for 'operator|' (operand types are 'std::vector<int>' and ...)
// ... –∑–∞—Ç–µ–º 200 —Å—Ç—Ä–æ–∫ –æ—à–∏–±–æ–∫ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—è —à–∞–±–ª–æ–Ω–æ–≤
```

**–ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã Rust** —Ç–æ–∂–µ –ª–µ–Ω–∏–≤—ã–µ, –Ω–æ:

- –û–Ω–∏ –∏–º–µ—é—Ç –Ω—É–ª–µ–≤—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å (–±–µ–∑ —Å—Ç–∏—Ä–∞–Ω–∏—è —Ç–∏–ø–æ–≤)
- –°–∏—Å—Ç–µ–º–∞ –≤–ª–∞–¥–µ–Ω–∏—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –≤–∏—Å—è—á–∏–µ —Å—Å—ã–ª–∫–∏
- –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö —á–∏—Ç–∞–µ–º—ã

```rust
let numbers = vec![1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

let result: Vec<i32> = numbers.iter()
    .filter(|&&n| n % 2 == 0)
    .map(|&n| n * n)
    .collect();

// –û—à–∏–±–∫–∞ —Ç–∏–ø–∞:
let bad = numbers.iter().filter(|s: &String| s.is_empty());
// Error: expected `&&i32`, found `&String`
// –ü–æ–Ω—è—Ç–Ω–æ. –ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ. –ß–∏—Ç–∞–µ–º–æ –¥–ª—è —á–µ–ª–æ–≤–µ–∫–∞.
```

---

## –ß–µ–≥–æ –¥–æ —Å–∏—Ö –ø–æ—Ä –Ω–µ—Ç –≤ C++ (–≤ 2025 –≥–æ–¥—É) {#what-cpp-still-doesnt-have}

### –ù–æ—Ä–º–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ {#proper-strings}

–°–ø—É—Å—Ç—è 40+ –ª–µ—Ç C++ –≤—Å—ë –µ—â—ë –Ω–µ –∏–º–µ–µ—Ç —Ö–æ—Ä–æ—à–µ–π –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏:

```cpp
std::string s = "Hello, World!";

// –≠—Ç–æ O(1) –∏–ª–∏ O(n)?
size_t len = s.length();  // O(1), —Å—á–∏—Ç–∞–µ—Ç –±–∞–π—Ç—ã

// –ê —á—Ç–æ –Ω–∞—Å—á—ë—Ç Unicode?
std::string emoji = "ü¶Ä";
std::cout << emoji.length();  // –í—ã–≤–æ–¥–∏—Ç 4 (–±–∞–π—Ç–∞), –∞ –Ω–µ 1 (—Å–∏–º–≤–æ–ª)

// –ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è —Å—Ç—Ä–æ–∫ –≤—ã–¥–µ–ª—è–µ—Ç –ø–∞–º—è—Ç—å:
std::string result = s + " " + emoji;  // –î–≤–∞ –≤—ã–¥–µ–ª–µ–Ω–∏—è!

// –ù–µ—Ç –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏ —Å—Ç—Ä–æ–∫:
int x = 42;
std::string formatted = "Value: " + std::to_string(x);  // –ù–µ—É–∫–ª—é–∂–µ
// –ò–ª–∏: std::format("Value: {}", x);  // C++20, –Ω–∞–∫–æ–Ω–µ—Ü-—Ç–æ
```

–°—Ç—Ä–æ–∫–∏ C++ ‚Äî —ç—Ç–æ ¬´–ø—Ä–æ—Å—Ç–æ –±–∞–π—Ç—ã¬ª. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Unicode ‚Äî –≤—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞. String view –ø–æ–º–æ–≥–∞—é—Ç —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é, –Ω–æ –¥–æ–±–∞–≤–ª—è—é—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Å –≤—Ä–µ–º–µ–Ω–∞–º–∏ –∂–∏–∑–Ω–∏.

**–°—Ç—Ä–æ–∫–∏ Rust ‚Äî UTF-8 –ø–æ –∑–∞–º—ã—Å–ª—É:**

```rust
let s = "Hello, World!";
let emoji = "ü¶Ä";

// –ß—ë—Ç–∫–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ:
println!("{}", s.len());           // 13 –±–∞–π—Ç
println!("{}", s.chars().count()); // 13 —Å–∏–º–≤–æ–ª–æ–≤
println!("{}", emoji.len());       // 4 –±–∞–π—Ç–∞
println!("{}", emoji.chars().count()); // 1 —Å–∏–º–≤–æ–ª

// –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è —Å—Ç—Ä–æ–∫:
let x = 42;
let formatted = format!("Value: {x}");  // –ß–∏—Å—Ç–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ

// –ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è —Å —è–≤–Ω—ã–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º –ø–∞–º—è—Ç–∏:
let result = format!("{s} {emoji}");
```

### –¢–∏–ø—ã-—Å—É–º–º—ã (–∞–ª–≥–µ–±—Ä–∞–∏—á–µ—Å–∫–∏–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö) {#sum-types}

–í–æ –º–Ω–æ–≥–∏—Ö —è–∑—ã–∫–∞—Ö –º–æ–∂–Ω–æ –≤—ã—Ä–∞–∑–∏—Ç—å ¬´—ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ª–∏–±–æ A, –ª–∏–±–æ B¬ª:

```rust
enum Result<T, E> {
    Ok(T),
    Err(E),
}

enum Option<T> {
    Some(T),
    None,
}

// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–∏–ø—ã-—Å—É–º–º—ã:
enum Measurement {
    Temperature(f64),
    Pressure(f64),
    Humidity(f64),
    Missing { sensor_id: u32, reason: String },
}
```

C++17 –¥–∞–ª –Ω–∞–º `std::variant`:

```cpp
std::variant<double, std::string, std::monostate> value;

// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–Ω–∞—á–µ–Ω–∏—è:
value = 3.14;

// –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω–æ:
if (std::holds_alternative<double>(value)) {
    double d = std::get<double>(value);
}

// –ò–ª–∏ —Å visit (–º–Ω–æ–≥–æ—Å–ª–æ–≤–Ω–æ):
std::visit([](auto&& arg) {
    using T = std::decay_t<decltype(arg)>;
    if constexpr (std::is_same_v<T, double>) {
        std::cout << "double: " << arg << "\n";
    } else if constexpr (std::is_same_v<T, std::string>) {
        std::cout << "string: " << arg << "\n";
    } else {
        std::cout << "empty\n";
    }
}, value);
```

–°—Ä–∞–≤–Ω–∏—Ç–µ —Å —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º —Å –æ–±—Ä–∞–∑—Ü–æ–º –≤ Rust:

```rust
match measurement {
    Measurement::Temperature(t) => println!("–¢–µ–º–ø: {t}¬∞C"),
    Measurement::Pressure(p) => println!("–î–∞–≤–ª–µ–Ω–∏–µ: {p} –ü–∞"),
    Measurement::Humidity(h) => println!("–í–ª–∞–∂–Ω–æ—Å—Ç—å: {h}%"),
    Measurement::Missing { sensor_id, reason } => {
        println!("–î–∞—Ç—á–∏–∫ {sensor_id} –æ—Ç–∫–∞–∑–∞–ª: {reason}");
    }
}
```

–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—ã –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç–µ –≤—Å–µ —Å–ª—É—á–∞–∏. –ó–∞–±—ã–ª–∏ –æ–¥–∏–Ω? –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏. –£ `std::visit` –≤ C++ —Ç–∞–∫–æ–π –≥–∞—Ä–∞–Ω—Ç–∏–∏ –Ω–µ—Ç.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å {#structured-concurrency}

–ß—Ç–æ –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Ä–∞—Å–ø–∞—Ä–∞–ª–ª–µ–ª–∏—Ç—å —Ü–∏–∫–ª? –í –Ω–∞—É—á–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏—è—Ö —ç—Ç–æ —Ö–ª–µ–± –Ω–∞—Å—É—â–Ω—ã–π ‚Äî –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ–∫—É –º–∞—Ç—Ä–∏—Ü—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ, –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏–º—É–ª—è—Ü–∏–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ, —Ä–∞—Å–ø–∞—Ä–∞–ª–ª–µ–ª–∏—Ç—å –≤—ã–±–æ—Ä–∫—É –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ.

–í C++ –≤—ã –æ–±—Ä–∞—â–∞–µ—Ç–µ—Å—å –∫ OpenMP:

```cpp
#include <omp.h>

void parallel_process(std::vector<double>& data) {
    #pragma omp parallel for
    for (size_t i = 0; i < data.size(); ++i) {
        data[i] = expensive_computation(data[i]);
    }
}
```

–≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ:

- –≠—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞, –Ω–µ —á–∞—Å—Ç—å —è–∑—ã–∫–∞
- –ó–∞—â–∏—Ç–∞ –æ—Ç –≥–æ–Ω–æ–∫ –¥–∞–Ω–Ω—ã—Ö ‚Äî –≤–∞—à–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
- –ö–æ–º–ø–æ–Ω—É–µ–º–æ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ (–≤–ª–æ–∂–µ–Ω–Ω—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º —Å–ª–æ–∂–µ–Ω)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫? –ö–∞–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫?

C++17 –¥–æ–±–∞–≤–∏–ª –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã:

```cpp
std::transform(std::execution::par, data.begin(), data.end(),
               data.begin(), expensive_computation);
```

–õ—É—á—à–µ, –Ω–æ –≤—Å—ë –µ—â—ë –Ω–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏. –ß—Ç–æ —Ç–∞–∫–æ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å? –ò–¥–µ—è –æ —Ç–æ–º, —á—Ç–æ **–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –æ–±–ª–∞—Å—Ç—å—é –≤–∏–¥–∏–º–æ—Å—Ç–∏** ‚Äî –≤—Å–µ –ø–æ—Ä–æ–∂–¥—ë–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è –¥–æ –≤—ã—Ö–æ–¥–∞ –∏–∑ –æ–±–ª–∞—Å—Ç–∏, –∏ —Ä–µ—Å—É—Ä—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è.

**–í Rust –µ—Å—Ç—å Rayon**, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º —Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã–º:

```rust
use rayon::prelude::*;

fn parallel_process(data: &mut [f64]) {
    data.par_iter_mut()
        .for_each(|x| *x = expensive_computation(*x));
}

// –ò–ª–∏ —Å map:
fn parallel_squares(data: &[f64]) -> Vec<f64> {
    data.par_iter()
        .map(|&x| x * x)
        .collect()
}

// Filter + map + reduce, –≤—Å—ë –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ:
fn parallel_pipeline(data: &[f64]) -> f64 {
    data.par_iter()
        .filter(|&&x| x > 0.0)
        .map(|&x| x.sqrt())
        .sum()
}
```

–ó–∞–º–µ–Ω–∏—Ç–µ `.iter()` –Ω–∞ `.par_iter()` ‚Äî –∏ –≤—Å—ë. –†–∞–±–æ—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ —è–¥—Ä–∞–º CPU, –∏ **–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –¥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏**. –ù–∏–∫–∞–∫–æ–≥–æ —Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–∞–º–∏, –Ω–∏–∫–∞–∫–∏—Ö –∑–∞–±—ã—Ç—ã—Ö join handle, –Ω–∏–∫–∞–∫–∏—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≥–æ–Ω–æ–∫ –¥–∞–Ω–Ω—ã—Ö (—Å–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤ –∏—Ö –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç).

–ù—É–∂–Ω–æ –±–æ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è? Rayon –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —è–≤–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏:

```rust
use rayon::scope;

fn custom_parallel_work(matrices: &[Matrix]) -> Vec<Result> {
    let mut results = vec![None; matrices.len()];

    rayon::scope(|s| {
        for (i, matrix) in matrices.iter().enumerate() {
            let result_slot = &mut results[i];
            s.spawn(move |_| {
                *result_slot = Some(process_matrix(matrix));
            });
        }
    });  // –í—Å–µ –ø–æ—Ä–æ–∂–¥—ë–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è –∑–¥–µ—Å—å

    results.into_iter().map(|r| r.unwrap()).collect()
}
```

#### –ê –∫–∞–∫ –Ω–∞—Å—á—ë—Ç –æ—à–∏–±–æ–∫ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏? {#thread-safety-bugs}

C++ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–æ–Ω–∫–∏ –¥–∞–Ω–Ω—ã—Ö:

```cpp
void data_race() {
    std::vector<int> data = {1, 2, 3};

    std::thread t1([&data]() { data.push_back(4); });
    std::thread t2([&data]() { data.push_back(5); });

    t1.join();
    t2.join();
    // –ù–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ ‚Äî –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∞—è –º—É—Ç–∞—Ü–∏—è
}
```

**Rust –ª–æ–≤–∏—Ç —ç—Ç–æ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏:**

```rust
fn wont_compile() {
    let mut data = vec![1, 2, 3];

    std::thread::scope(|s| {
        s.spawn(|| data.push(4));  // –û–®–ò–ë–ö–ê: –Ω–µ–ª—å–∑—è –∑–∞–∏–º—Å—Ç–≤–æ–≤–∞—Ç—å `data` –∫–∞–∫ –∏–∑–º–µ–Ω—è–µ–º—ã–π
        s.spawn(|| data.push(5));  // –±–æ–ª–µ–µ –æ–¥–Ω–æ–≥–æ —Ä–∞–∑–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
    });
}
```

–ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ —Ä–∞–∑–¥–µ–ª—è–µ–º–æ–µ –∏–∑–º–µ–Ω—è–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –≤—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —è–≤–Ω—ã–º–∏:

```rust
use std::sync::Mutex;

fn explicit_sharing() {
    let data = Mutex::new(vec![1, 2, 3]);

    std::thread::scope(|s| {
        s.spawn(|| data.lock().unwrap().push(4));
        s.spawn(|| data.lock().unwrap().push(5));
    });
    // –†–∞–±–æ—Ç–∞–µ—Ç ‚Äî Mutex –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø
}
```

–°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –≤ –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, –∞ –Ω–µ –∑–∞–≥–∞–¥–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

---

## –≠–∫–æ—Å–∏—Å—Ç–µ–º–∞ Rust {#rust-ecosystem}

–•–≤–∞—Ç–∏—Ç –∂–∞–ª–æ–≤–∞—Ç—å—Å—è –Ω–∞ C++. –î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç Rust.

### Cargo: —Å–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ—Å—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç {#cargo-build-system}

–ü–æ–º–Ω–∏—Ç–µ, –∫–∞–∫ —Ç—Ä–∞—Ç–∏–ª–∏ –¥–Ω–∏ –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫—É CMake? –ë–æ—Ä–æ–ª–∏—Å—å —Å vcpkg? –í—Ä—É—á–Ω—É—é —Å–∫–∞—á–∏–≤–∞–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏?

```bash
# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
cargo new my_simulation
cd my_simulation

# –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (—ç—Ç–æ –≤—Å—ë, –ø—Ä–∞–≤–¥–∞)
cargo add nalgebra ndarray rayon

# –°–æ–±—Ä–∞—Ç—å
cargo build

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
cargo run

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
cargo test

# –°–æ–±—Ä–∞—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é
cargo build --release
```

–í–∞—à `Cargo.toml`:

```toml
[package]
name = "my_simulation"
version = "0.1.0"
edition = "2021"

[dependencies]
nalgebra = "0.33"
ndarray = "0.16"
rayon = "1.10"

[dev-dependencies]
criterion = "0.5"
proptest = "1.5"
```

–°—Ä–∞–≤–Ω–∏—Ç–µ —Å —Ç–∏–ø–∏—á–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π CMake:

```cmake
cmake_minimum_required(VERSION 3.20)
project(my_simulation)

set(CMAKE_CXX_STANDARD 20)

# –ù–∞–¥–µ–µ–º—Å—è, —É –≤–∞—Å —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ...
find_package(Eigen3 REQUIRED)
find_package(OpenMP REQUIRED)

# –ò–ª–∏ –º–æ–∂–µ—Ç –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ FetchContent?
include(FetchContent)
FetchContent_Declare(
    eigen
    GIT_REPOSITORY https://gitlab.com/libeigen/eigen.git
    GIT_TAG 3.4.0
)
FetchContent_MakeAvailable(eigen)

add_executable(my_simulation src/main.cpp)
target_link_libraries(my_simulation PRIVATE Eigen3::Eigen OpenMP::OpenMP_CXX)
target_compile_options(my_simulation PRIVATE -Wall -Wextra -O3)
# ... –µ—â—ë 50 —Å—Ç—Ä–æ–∫ –¥–ª—è —Ç–µ—Å—Ç–æ–≤, –±–µ–Ω—á–º–∞—Ä–∫–æ–≤, –ø—Ä–∞–≤–∏–ª —É—Å—Ç–∞–Ω–æ–≤–∫–∏...
```

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ä–∏–π {#toolchain}

| –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç      | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç                                |
| --------------- | ----------------------------------------- |
| `cargo build`   | –ö–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç –≤–∞—à –ø—Ä–æ–µ–∫—Ç                    |
| `cargo test`    | –ó–∞–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç—ã                           |
| `cargo doc`     | –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é                   |
| `cargo fmt`     | –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∫–æ–¥ (–µ–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å)            |
| `cargo clippy`  | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞ —Ç–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏              |
| `cargo bench`   | –ó–∞–ø—É—Å–∫–∞–µ—Ç –±–µ–Ω—á–º–∞—Ä–∫–∏                       |
| `cargo publish` | –ü—É–±–ª–∏–∫—É–µ—Ç –Ω–∞ crates.io                    |

–í—Å—ë –≤—Å—Ç—Ä–æ–µ–Ω–æ. –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–º–µ—Å—Ç–µ. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–µ –Ω—É–∂–Ω–∞.

### –≠–∫–æ—Å–∏—Å—Ç–µ–º–∞ –ø–∞–∫–µ—Ç–æ–≤ {#package-ecosystem}

- **[crates.io](https://crates.io)** ‚Äî 150 000+ –ø–∞–∫–µ—Ç–æ–≤
- **[docs.rs](https://docs.rs)** ‚Äî –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞–∫–µ—Ç–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è
- **[lib.rs](https://lib.rs)** ‚Äî –õ—É—á—à–∏–π –ø–æ–∏—Å–∫ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è

–î–ª—è –Ω–∞—É—á–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ —á–∞—Å—Ç–Ω–æ—Å—Ç–∏:

- `nalgebra` ‚Äî –õ–∏–Ω–µ–π–Ω–∞—è –∞–ª–≥–µ–±—Ä–∞ (–∫–∞–∫ Eigen)
- `ndarray` ‚Äî N-–º–µ—Ä–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã (–∫–∞–∫ NumPy)
- `russell` ‚Äî –¢–µ–Ω–∑–æ—Ä—ã –∏ —Ä–µ—à–∞—Ç–µ–ª–∏ –û–î–£
- `faer` ‚Äî –í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è –ª–∏–Ω–µ–π–Ω–∞—è –∞–ª–≥–µ–±—Ä–∞
- `polars` ‚Äî DataFrames (–∫–∞–∫ Pandas, –Ω–æ –±—ã—Å—Ç—Ä–µ–µ)
- `linfa` ‚Äî –ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ

---

## –ú–æ–¥–µ–ª—å –≤–ª–∞–¥–µ–Ω–∏—è {#ownership-model}

–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä—ë–º—Å—è, –∫–∞–∫ Rust –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –æ–±—Å—É–∂–¥–∞–ª–∏.

### –¢—Ä–∏ –ø—Ä–æ—Å—Ç—ã—Ö –ø—Ä–∞–≤–∏–ª–∞ {#three-simple-rules}

1. **–ö–∞–∂–¥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–º–µ–µ—Ç —Ä–æ–≤–Ω–æ –æ–¥–Ω–æ–≥–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞**
2. **–ö–æ–≥–¥–∞ –≤–ª–∞–¥–µ–ª–µ—Ü –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏, –∑–Ω–∞—á–µ–Ω–∏–µ —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è**
3. **–í–ª–∞–¥–µ–Ω–∏–µ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å (–ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å) –∏–ª–∏ –∑–∞–∏–º—Å—Ç–≤–æ–≤–∞—Ç—å**

–í–æ—Ç –∏ –≤—Å—ë. –≠—Ç–∏ —Ç—Ä–∏ –ø—Ä–∞–≤–∏–ª–∞ —É—Å—Ç—Ä–∞–Ω—è—é—Ç use-after-free, double-free, –≥–æ–Ω–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –æ—à–∏–±–∫–∏ –Ω—É–ª–µ–≤—ã—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π.

### –ü—Ä–∞–≤–∏–ª–æ 1: –û–¥–∏–Ω –≤–ª–∞–¥–µ–ª–µ—Ü {#rule-1-one-owner}

```rust
fn main() {
    let data = vec![1, 2, 3];  // data –≤–ª–∞–¥–µ–µ—Ç –≤–µ–∫—Ç–æ—Ä–æ–º

    let also_data = data;  // –≤–ª–∞–¥–µ–Ω–∏–µ –ü–ï–†–ï–ú–ï–©–ï–ù–û –≤ also_data

    // println!("{:?}", data);  // –û–®–ò–ë–ö–ê: data –±–æ–ª—å—à–µ –Ω–µ –≤–∞–ª–∏–¥–Ω–∞
    println!("{:?}", also_data);  // OK
}
```

–≠—Ç–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç C++:

```cpp
std::vector<int> data = {1, 2, 3};
std::vector<int> also_data = std::move(data);
// data —Ç–µ–ø–µ—Ä—å –≤ "–≤–∞–ª–∏–¥–Ω–æ–º, –Ω–æ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏"
// C++ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –¥–∞–ª—å—à–µ ‚Äî Rust –Ω–µ—Ç
```

### –ü—Ä–∞–≤–∏–ª–æ 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ {#rule-2-automatic-cleanup}

```rust
fn process() {
    let data = vec![1, 2, 3];  // –ø–∞–º—è—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∞
    // ... –∏—Å–ø–æ–ª—å–∑—É–µ–º data ...
}  // data —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è –∑–¥–µ—Å—å, –ø–∞–º—è—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∞

fn main() {
    process();
    // –£—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞
}
```

### –ü—Ä–∞–≤–∏–ª–æ 3: –ó–∞–∏–º—Å—Ç–≤–æ–≤–∞–Ω–∏–µ {#rule-3-borrowing}

–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ ‚Äî –Ω–µ –≤—Å–µ–≥–¥–∞ —Ç–æ, —á—Ç–æ –≤–∞–º –Ω—É–∂–Ω–æ. –ò–Ω–æ–≥–¥–∞ –≤–∞–º –ø—Ä–æ—Å—Ç–æ –Ω—É–∂–µ–Ω –≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø:

```rust
fn sum(data: &[i32]) -> i32 {  // –∑–∞–∏–º—Å—Ç–≤—É–µ—Ç —Å—Ä–µ–∑
    data.iter().sum()
}

fn main() {
    let numbers = vec![1, 2, 3, 4, 5];

    let total = sum(&numbers);  // –∑–∞–∏–º—Å—Ç–≤—É–µ–º –¥–∞–Ω–Ω—ã–µ

    println!("–ß–∏—Å–ª–∞: {:?}", numbers);  // –≤—Å—ë –µ—â—ë –≤–∞–ª–∏–¥–Ω—ã!
    println!("–°—É–º–º–∞: {}", total);
}
```

### –ò–∑–º–µ–Ω—è–µ–º–æ–µ –∑–∞–∏–º—Å—Ç–≤–æ–≤–∞–Ω–∏–µ {#mutable-borrowing}

–ù—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∑–∞–∏–º—Å—Ç–≤–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ? –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `&mut`:

```rust
fn add_element(data: &mut Vec<i32>, value: i32) {
    data.push(value);
}

fn main() {
    let mut numbers = vec![1, 2, 3];
    add_element(&mut numbers, 4);
    println!("{:?}", numbers);  // [1, 2, 3, 4]
}
```

### –ö–ª—é—á–µ–≤–æ–π –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç {#key-invariant}

–í –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ —É –≤–∞—Å –º–æ–∂–µ—Ç –±—ã—Ç—å:

- **–ú–Ω–æ–≥–æ** –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã—Ö —Å—Å—ã–ª–æ–∫ (`&T`), –ò–õ–ò
- **–û–¥–Ω–∞** –∏–∑–º–µ–Ω—è–µ–º–∞—è —Å—Å—ã–ª–∫–∞ (`&mut T`)

–ù–∏–∫–æ–≥–¥–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –≥–æ–Ω–∫–∏ –¥–∞–Ω–Ω—ã—Ö _–Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏_.

```rust
fn main() {
    let mut data = vec![1, 2, 3];

    let r1 = &data;     // OK
    let r2 = &data;     // OK ‚Äî –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∏—Ç–∞—Ç–µ–ª–µ–π
    println!("{:?} {:?}", r1, r2);

    let r3 = &mut data; // OK ‚Äî r1, r2 –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
    r3.push(4);

    // let r4 = &data;  // –û–®–ò–ë–ö–ê, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ–∫–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç r3
}
```

---

## –í—Ä–µ–º–µ–Ω–∞ –∂–∏–∑–Ω–∏: –¥–µ–ª–∞–µ–º —Å—Å—ã–ª–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ {#lifetimes}

C++ –¥–æ–≤–µ—Ä—è–µ—Ç –≤–∞–º –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤–∏—Å—è—á–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏. Rust –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —ç—Ç–æ.

### –ü—Ä–æ–±–ª–µ–º–∞ {#the-problem}

```cpp
int* bad_pointer() {
    int x = 42;
    return &x;  // –ö–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è! –ù–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.
}
```

### –†–µ—à–µ–Ω–∏–µ Rust {#rust-solution}

```rust
fn bad_reference() -> &i32 {
    let x = 42;
    &x  // –û–®–ò–ë–ö–ê: –Ω–µ–ª—å–∑—è –≤–µ—Ä–Ω—É—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
}

// –†–µ—à–µ–Ω–∏–µ: –≤–µ—Ä–Ω—É—Ç—å –≤–ª–∞–¥–µ–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ
fn good_value() -> i32 {
    let x = 42;
    x  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–∞–º–æ –∑–Ω–∞—á–µ–Ω–∏–µ
}
```

### –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –≤—Ä–µ–º—ë–Ω –∂–∏–∑–Ω–∏ {#lifetime-annotations}

–ò–Ω–æ–≥–¥–∞ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –¥–æ–ª–≥–æ –∂–∏–≤—É—Ç —Å—Å—ã–ª–∫–∏:

```rust
// –ì–æ–≤–æ—Ä–∏—Ç: –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–∞—è —Å—Å—ã–ª–∫–∞ –∂–∏–≤—ë—Ç —Å—Ç–æ–ª—å–∫–æ –∂–µ, —Å–∫–æ–ª—å–∫–æ –û–ë–ê –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
fn longest<'a>(x: &'a str, y: &'a str) -> &'a str {
    if x.len() > y.len() { x } else { y }
}
```

`'a` ‚Äî —ç—Ç–æ _–ø–∞—Ä–∞–º–µ—Ç—Ä –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏_. –≠—Ç–æ –Ω–µ —Ç–æ, —á—Ç–æ –≤—ã –ø–∏—à–µ—Ç–µ —á–∞—Å—Ç–æ ‚Äî –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—ã–≤–æ–¥–∏—Ç –≤—Ä–µ–º–µ–Ω–∞ –∂–∏–∑–Ω–∏ –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤. –ù–æ –∫–æ–≥–¥–∞ –Ω–µ –º–æ–∂–µ—Ç, –≤—ã –¥–µ–ª–∞–µ—Ç–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è —è–≤–Ω—ã–º–∏.

---

## –†–µ–∑—é–º–µ {#summary}

C++ –º–æ—â–Ω—ã–π, –Ω–æ –µ–≥–æ —Å–ª–æ–∂–Ω–æ—Å—Ç—å –≤—ã—Ä–æ—Å–ª–∞ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —Ç–æ–≥–æ, —á—Ç–æ –º–æ–∂–µ—Ç –æ—Å–≤–æ–∏—Ç—å –æ–¥–∏–Ω —á–µ–ª–æ–≤–µ–∫. –ö–∞–∂–¥–∞—è –Ω–æ–≤–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª—è–µ—Ç –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏, –∫–∞–∂–¥—ã–π –≥—Ä–∞–Ω–∏—á–Ω—ã–π —Å–ª—É—á–∞–π –¥–æ–±–∞–≤–ª—è–µ—Ç –æ—à–∏–±–∫–∏.

Rust –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥—Ä—É–≥–æ–π –ø–æ–¥—Ö–æ–¥:

- **–í–ª–∞–¥–µ–Ω–∏–µ** –≤–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é
- **–ó–∞–∏–º—Å—Ç–≤–æ–≤–∞–Ω–∏–µ** —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –≤–º–µ—Å—Ç–æ –Ω–∞–¥–µ–∂–¥—ã, —á—Ç–æ –≤—ã –≤—Å—ë —Å–¥–µ–ª–∞–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- **–¢–∏–ø—ã-—Å—É–º–º—ã**, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—Å—Ç–∞–≤–ª—è—é—Ç –≤–∞—Å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—Å–µ —Å–ª—É—á–∞–∏
- **–¢–∏–ø–∞–∂–∏** (—Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è –≤ [–õ–µ–∫—Ü–∏–∏ 2](./lecture-02.md)) –≤–º–µ—Å—Ç–æ –∏–µ—Ä–∞—Ä—Ö–∏–π –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
- **–û–¥–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏**, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ—Å—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ö—Ä–∏–≤–∞—è –æ–±—É—á–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω–∞. –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –ø–æ–Ω–∞—á–∞–ª—É –±—É–¥–µ—Ç —Å –≤–∞–º–∏ –±–æ—Ä–æ—Ç—å—Å—è. –ù–æ –∫–∞–∫ —Ç–æ–ª—å–∫–æ –≤—ã —É—Å–≤–æ–∏—Ç–µ –º–æ–¥–µ–ª—å –≤–ª–∞–¥–µ–Ω–∏—è, –≤—ã –æ–±–Ω–∞—Ä—É–∂–∏—Ç–µ, —á—Ç–æ –ø–∏—à–µ—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∫–æ–¥ –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –¥–µ–ª–∞–ª–∏ —ç—Ç–æ –Ω–∞ C++.

–í [–õ–µ–∫—Ü–∏–∏ 2](./lecture-02.md) –º—ã –±—É–¥–µ–º –æ–ø–∏—Ä–∞—Ç—å—Å—è –Ω–∞ —ç—Ç—É –æ—Å–Ω–æ–≤—É, —á—Ç–æ–±—ã –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –º–æ—â–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Ç–∏–ø–æ–≤ Rust, —Ç–∏–ø–∞–∂–∏ –¥–ª—è –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –±–æ–ª—å—à–∏—Ö –Ω–∞—É—á–Ω—ã—Ö –∫–æ–¥–æ–≤—ã—Ö –±–∞–∑. –í–ª–∞–¥–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã –∏–∑—É—á–∏–ª–∏ –∑–¥–µ—Å—å ‚Äî —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç, –∞ —Ç–∏–ø–∞–∂–∏ –∏ –æ–±–æ–±—â–µ–Ω–∏—è ‚Äî —ç—Ç–æ –≥–∏–±–∫–∏–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞—é—Ç –µ–≥–æ –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–º –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ {#next-steps}

- **–°–µ–º–∏–Ω–∞—Ä 1.1**: [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –ø–µ—Ä–≤—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã](../seminars/seminar-01-1.md)
- **–°–µ–º–∏–Ω–∞—Ä 1.2**: [–ì–ª—É–±–æ–∫–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤–æ –≤–ª–∞–¥–µ–Ω–∏–µ](../seminars/seminar-01-2.md)

## –ß—Ç–µ–Ω–∏–µ {#reading}

- [The Rust Programming Language, –≥–ª–∞–≤–∞ 4: –ü–æ–Ω–∏–º–∞–Ω–∏–µ –≤–ª–∞–¥–µ–Ω–∏—è](https://doc.rust-lang.org/book/ch04-00-understanding-ownership.html)
- [Rust by Example: –í–ª–∞–¥–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è](https://doc.rust-lang.org/rust-by-example/scope/move.html)
